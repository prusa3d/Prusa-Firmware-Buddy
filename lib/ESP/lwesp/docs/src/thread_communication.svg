<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1031px" height="621px" viewBox="-0.5 -0.5 1031 621" content="&lt;mxfile modified=&quot;2019-03-17T14:44:16.555Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/7.8.7 Chrome/58.0.3029.110 Electron/1.7.5 Safari/537.36&quot; version=&quot;10.4.9&quot; etag=&quot;b9EF_vyrmqSTb5WOtyVN&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;c7558073-3199-34d8-9f00-42111426c3f3&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="30" y="0" width="281" height="470" fill="#e1d5e7" stroke="#9673a6" pointer-events="none"/><g transform="translate(72.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="161" height="22" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">USER THREAD 2<br /></div></div></foreignObject><text x="81" y="21" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">USER THREAD 2&lt;br&gt;</text></switch></g><rect x="350" y="0" width="320" height="620" fill="#dae8fc" stroke="#6c8ebf" pointer-events="none"/><rect x="710" y="0" width="320" height="380" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><rect x="0" y="30" width="281" height="470" fill="#e1d5e7" stroke="#9673a6" pointer-events="none"/><g transform="translate(51.5,32.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="170" height="46" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">USER THREAD 1:<div>Connect to server</div></div></div></foreignObject><text x="85" y="33" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">USER THREAD 1:&lt;div&gt;Connect to server&lt;/div&gt;</text></switch></g><path d="M 510 90 L 510 101.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 107.76 L 506 99.76 L 510 101.76 L 514 99.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="370" y="50" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(420.5,63.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="178" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 178px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait message from user threads.</div></div></foreignObject><text x="89" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Wait message from user threads.</text></switch></g><rect x="30" y="150" width="221" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(31.5,159.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="217" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 217px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Set message type to start a new connection, fill connection type, host, port and choose if command is blocking</div></div></foreignObject><text x="109" y="26" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="30" y="90" width="221" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(31.5,96.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="217" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 217px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Get message from memory manager for a new command message</div></div></foreignObject><text x="109" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Get message from memory manager for a new command message</text></switch></g><path d="M 141 130 L 141 141.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 141 147.76 L 137 139.76 L 141 141.76 L 145 139.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(426.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="166" height="22" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Producing thread</div></div></foreignObject><text x="83" y="21" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">Producing thread</text></switch></g><g transform="translate(781.5,2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="175" height="22" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Processing thread</div></div></foreignObject><text x="88" y="21" fill="#000000" text-anchor="middle" font-size="20px" font-family="Helvetica" font-weight="bold">Processing thread</text></switch></g><rect x="60" y="310" width="161" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(61.5,319.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="157" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 157px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Create new semaphore <b>sem</b> for synchronization and lock it immediatelly</div></div></foreignObject><text x="79" y="26" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 140.5 230 L 181 260 L 140.5 290 L 100 260 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(107.5,253.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="65" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 66px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Is blocking?</div></div></foreignObject><text x="33" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Is blocking?</text></switch></g><path d="M 141 210 L 141 221.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 141 227.76 L 137 219.76 L 141 221.76 L 145 219.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 181 260 L 330 260 L 330 70 L 361.76 70" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 367.76 70 L 359.76 74 L 361.76 70 L 359.76 66 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(160.5,216.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="79" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 79px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">No, send and return OK</div></div></foreignObject><text x="40" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">No, send and return OK</text></switch></g><g transform="translate(150.5,293.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="19" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 21px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Yes</div></div></foreignObject><text x="10" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Yes</text></switch></g><path d="M 141 290 L 141 301.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 141 307.76 L 137 299.76 L 141 301.76 L 145 299.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 221 340 L 250 340 L 250 268.24" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 250 262.24 L 254 270.24 L 250 268.24 L 246 270.24 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="60" y="390" width="161" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(61.5,402.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="157" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 157px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait semaphore to be ready again, free semaphore and message memory then return command result</div></div></foreignObject><text x="79" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 141 370 L 141 381.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 141 387.76 L 137 379.76 L 141 381.76 L 145 379.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 150 L 510 161.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 167.76 L 506 159.76 L 510 161.76 L 514 159.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="370" y="110" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(371.5,116.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Lock synchronization <b>sync_sem</b> semaphore between producing and processing threads</div></div></foreignObject><text x="138" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Lock synchronization &lt;b&gt;sync_sem&lt;/b&gt; semaphore between producing and processing threads</text></switch></g><path d="M 510 240 L 510 251.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 257.76 L 506 249.76 L 510 251.76 L 514 249.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="370" y="170" width="280" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(371.5,177.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Send data to AT port for command, such as "<b>AT+CIPSTART=0,"type","host",port</b>". Every command message has different initial AT command</div></div></foreignObject><text x="138" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 510 300 L 510 311.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 317.76 L 506 309.76 L 510 311.76 L 514 309.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="370" y="260" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(393.5,273.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="232" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 234px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait for <b>sync_sem</b> semaphore to be ready</div></div></foreignObject><text x="116" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Wait for &lt;b&gt;sync_sem&lt;/b&gt; semaphore to be ready</text></switch></g><path d="M 445 375 L 435 375 L 435 431.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 435 437.76 L 431 429.76 L 435 431.76 L 439 429.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 575 375 L 585 375 L 585 431.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 585 437.76 L 581 429.76 L 585 431.76 L 589 429.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 320 L 575 375 L 510 430 L 445 375 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(446.5,361.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Is the command message blocking?</div></div></foreignObject><text x="63" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Is the command message blocking?</text></switch></g><path d="M 435 530 L 435 550 L 511 550 L 511 553.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 511 559.76 L 507 551.76 L 511 553.76 L 515 551.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="370" y="440" width="130" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(371.5,443.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="82" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Set command result according to AT port status, release message <b>sem</b> semaphore to unblock user thread</div></div></foreignObject><text x="63" y="47" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 585 530 L 585 550 L 511 550 L 511 553.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 511 559.76 L 507 551.76 L 511 553.76 L 515 551.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="520" y="440" width="130" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(521.5,450.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="68" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Release command message memory and notify user with callback function about result</div></div></foreignObject><text x="63" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(414.5,358.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="20" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 20px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Yes</div></div></foreignObject><text x="10" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Yes</text></switch></g><g transform="translate(581.5,358.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="16" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 17px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">No</div></div></foreignObject><text x="8" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">No</text></switch></g><rect x="440" y="560" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(478.5,573.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="52" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 53px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Start over</div></div></foreignObject><text x="26" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Start over</text></switch></g><path d="M 870 90 L 870 101.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 870 107.76 L 866 99.76 L 870 101.76 L 874 99.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="730" y="50" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(810.5,63.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="118" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 120px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Wait data from AT port</div></div></foreignObject><text x="59" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Wait data from AT port</text></switch></g><path d="M 870 190 L 870 206.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 870 212.76 L 866 204.76 L 870 206.76 L 874 204.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="730" y="110" width="280" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(731.5,115.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="68" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Process received data. If message is control global such as <b>WIFI CONNECTED</b> or <b>0,CONNECT</b>, notify user by calling callback function immediatelly. The same functionality applies for <b>+IPD</b> statement with received network data from connection.</div></div></foreignObject><text x="138" y="40" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 870 295 L 870 306.76" fill="none" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 870 312.76 L 866 304.76 L 870 306.76 L 874 304.76 Z" fill="#b85450" stroke="#b85450" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="730" y="215" width="280" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(731.5,227.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">When OK or ERROR message is received and command message is active, release <b>sync_sem</b> semaphore to allow producing thread to continue</div></div></foreignObject><text x="138" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="805" y="315" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(843.5,328.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="52" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 53px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Start over</div></div></foreignObject><text x="26" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Start over</text></switch></g></g></svg>